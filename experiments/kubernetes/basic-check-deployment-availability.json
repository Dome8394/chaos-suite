{
    "version": "1.0.0",
    "title": "basic-check-deployment-availability",
    "description": "Checks if all expected replicas defined by the deployment are available.",
    "contribution": {
        "resilience": "high"
    },
    "tags": [
        "suedleasing"
    ],
    "configuration": {
        "namespace_name": {
            "type": "env",
            "key": "NAMESPACE_NAME"
        }, 
        "label_selector": {
            "type": "env",
            "key": "LABEL_SELECTOR"
        },
        "timeout": {
            "type": "env",
            "key": "TIMEOUT"
        },
        "deployment_name": {
            "type": "env",
            "key": "DEPLOYMENT_NAME"
        }
    },
    "steady-state-hypothesis": {
        "title": "deployment-available",
        "probes": [
            {
                "type": "probe",
                "name": "deployment-is-fully-available",
                "provider": {
                  "func": "deployment_is_fully_available",
                  "type": "python",
                  "module": "chaosk8s.probes",
                  "arguments": {
                    "name": "${deployment_name}",
                    "ns": "${namespace_name}",
                    "label_selector": "${label_selector}",
                    "timeout": "${timeout}"
                  }
                }
              }
        ],
    "method": [],
    "rollbacks": []
    }









}